<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title th:text="${teamResponseDto.teamName}">Team Details</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f4f4f4;
      padding-top: 56px;
    }

    .container {
      margin-top: 20px;
    }

    .card-body {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .btn-group {
      margin-bottom: 20px;
    }

    .list-group-item {
      border: none;
    }

    .floating-btns {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
    }

    .floating-btns .btn {
      margin-bottom: 10px;
      display: block;
    }

    .custom-card-title {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
    }

    .participants-info {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }

    .btn-info {
      background-color: #17a2b8;
      border-color: #17a2b8;
    }

    .btn-success {
      background-color: #28a745;
      border-color: #28a745;
    }

    .btn-danger {
      background-color: #dc3545;
      border-color: #dc3545;
    }

    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }

    .btn-secondary {
      background-color: #6c757d;
      border-color: #6c757d;
    }

    .btn-secondary:hover {
      background-color: #5a6268;
      border-color: #545b62;
    }

    header {
      background-color: #333;
      padding: 15px;
      color: white;
      text-align: center;
      position: relative;
    }
    nav {
      background-color: #444;
      overflow: hidden;
    }
    .main-links {
      display: inline-block;
      color: white;
      padding: 14px 16px;
      text-decoration: none;
    }
    .main-links:hover {
      background-color: #ddd;
      color: black;
    }
    </style>
</head>
<body>
<header>
  <h1>We Make Play</h1>
  <h3>sports community</h3>
  <div class="auth-links">
    <a th:href = "@{/signup}"> Signup </a>
    <a th:href = "@{/login}"> Login </a>
  </div>
</header>
<nav>
  <a href="/mainPage" class="main-links">Home</a>
  <a href="/playSpace" class="main-links">PlaySpace</a>
  <a href="/topplayer" class="main-links">TopPlayer</a>
  <a href="/teamAttend" class="main-links">TeamAttend</a>
</nav>

<div class="container mt-5">
  <div class="card">
    <div class="card-body">
      <h2 class="custom-card-title" th:text="${teamResponseDto.teamName}"></h2>
      <div class="btn-group">
        <!-- Edit button -->
        <a href="#" class="btn btn-primary btn-lg" th:href="@{'/team/' + ${teamResponseDto.id} + '/edit'}">수정</a>
        <!-- Delete button -->
        <a href="#" class="btn btn-danger btn-lg" onclick="confirmDelete(event)"
           th:href="@{'/team/' + ${teamResponseDto.id} + '/delete'}">삭제</a>
        <!-- Join button -->
        <a href="#" class="btn btn-success btn-lg" onclick="attendTeam()"
           th:href="@{'/attend/' + ${teamResponseDto.id}}">가입 신청</a>


        <!-- Participants list button -->
        <a href="#" class="btn btn-info btn-lg" th:href="@{'/attender/' + ${teamResponseDto.id}}">신청자확인</a>
      </div>
      <p class="participants-info" th:text="'팀 소개: ' + ${teamResponseDto.teamIntro}"></p>
      <p class="participants-info" th:text="'오너: ' + ${teamResponseDto.teamOwner}"></p>
      <p class="participants-info" th:text="'팀원: ' + ${teamResponseDto.teamPersonnel} + ' / ' + ${teamResponseDto.teamAttendPersonnel}"></p>


      <div class="btn-group" role="group">
        <button type="button" class="btn btn-secondary btn-lg" th:each="userNickname : ${teamResponseDto.memberNameList}"
                th:text="${userNickname}" th:onclick="'javascript:handleButtonClick(\'' + ${userNickname} + '\')'">
          <span>참여자 확인</span>
        </button>
      </div>
    </div>
  </div>
</div>

  <div class="floating-btns">
  <a href="/attendTeam" class="btn btn-secondary btn-lg">List</a>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
  function confirmDelete(event) {
      const result = confirm("팀을 삭제 하시겠습니까?");
      if (result) {
          window.location.href = event.currentTarget.getAttribute("href");
      } else {
    return false;
      }
  }

  function attendTeam() {
      alert("가입 신청 되었습니다!");
      document.getElementById("attendForm").submit();
  }
</script>
</body>
</html>
